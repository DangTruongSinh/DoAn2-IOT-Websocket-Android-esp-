let statusBulb_1 = false;
let statusBulb_2 = false;
let statusFan = false;


// Chức năng Đèn 1
function toggleStatusBulb_1() {
  statusBulb_1 = !statusBulb_1;
  if (statusBulb_1) {
    document.getElementById('bulb-1-status').innerHTML = 'on';
    document.getElementById('bulb-1').style.backgroundColor = 'yellow';

  } else {
    document.getElementById('bulb-1-status').innerHTML = 'off';
    document.getElementById('bulb-1').style.backgroundColor = 'grey';
  }
  console.log('Đèn 1 đang mở:', statusBulb_1);
}

// Chức năng Đèn 2
function toggleStatusBulb_2() {
  statusBulb_2 = !statusBulb_2; 
  if (statusBulb_2) {
    document.getElementById('bulb-2-status').innerHTML = 'on';
    document.getElementById('bulb-2').style.backgroundColor = 'yellow';
  } else {
    document.getElementById('bulb-2-status').innerHTML = 'off';
    document.getElementById('bulb-2').style.backgroundColor = 'grey';
  }
  console.log('Đèn 2 đang mở: ', statusBulb_2);
}

// Chức năng Quạt
function toggleStatusFan() {
  statusFan = !statusFan;
  if (statusFan) {
    document.getElementById('fan-status').innerHTML = 'on';
    document.getElementById('fan').style.backgroundColor = 'yellow';
  } else {
    document.getElementById('fan-status').innerHTML = 'off';
    document.getElementById('fan').style.backgroundColor = 'grey';
  }
  console.log('Đèn 2 đang mở: ', statusBulb_2);
}

var websocket;
function connect() {
  websocket = new WebSocket("ws://localhost:8080/realtime-data");
  websocket.onopen = function(message) {processOpen(message);};
  websocket.onmessage = function(message) {processMessage(message);};
  websocket.onclose = function(message) {processClose(message);};
  websocket.onerror = function(message) {processError(message);};
}
function disconnect() {
  websocket.close();
}

function processOpen(message) {
  textAreaMessage.value += "Server connect... \n";
}
function processMessage(message) {
  console.log(message);
  textAreaMessage.value += "Response From Server ==> " + message.data + " \n";
}
function processClose(message) {
  textAreaMessage.value += "Server Disconnect... \n";
}
function processError(message) {
  textAreaMessage.value += "Error... " + message +" \n";
}
function sendMessage() {
  if (typeof websocket != 'undefined' && websocket.readyState == WebSocket.OPEN) {
    websocket.send(textMessage.value);
    textAreaMessage.value += "Send to Server ==> " + textMessage.value + " \n";
    textMessage.value = "";
  }
}


